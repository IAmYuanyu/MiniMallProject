import{_ as x,r as b,o as w,c as s,a as t,b as _,d as l,F as p,g as v,w as C,e as V,u as F,f as o,t as a,n as O}from"./index-Bu6-biGD.js";const q={class:"orders-container"},B={class:"orders-header"},L={key:0,class:"orders-list"},N={class:"order-header"},T={class:"order-time"},I={class:"product-info"},S=["src"],D={class:"product-details"},E={class:"product-title"},M={class:"product-price"},R={class:"product-quantity"},j={class:"order-total"},z={key:1,class:"empty-orders"},A={style:{margin:"16px"}},G={__name:"OrdersView",setup(H){const u=F(),c=b([]),h=async()=>{try{const e=await V.get("orders");e.data.code===200&&(c.value=e.data.data,console.log("orders:",c.value))}catch(e){console.error("获取订单列表失败",e)}},m=e=>e.reduce((n,d)=>n+d.price*d.quantity,0).toFixed(2),y=()=>{u.back()},f=()=>{u.push("/home")};return w(()=>{h()}),(e,n)=>{const d=l("van-nav-bar"),g=l("van-empty"),k=l("van-button");return o(),s("div",q,[t("div",B,[_(d,{title:"我的订单","left-arrow":"",onClickLeft:y})]),c.value.length>0?(o(),s("div",L,[(o(!0),s(p,null,v(c.value,i=>(o(),s("div",{key:i.orderId,class:"order-card"},[t("div",N,[t("div",T,a(i.createTime),1)]),(o(!0),s(p,null,v(i.items,r=>(o(),s("div",{key:r.id,class:"order-item"},[t("div",I,[t("img",{src:r.thumb,class:"product-image"},null,8,S),t("div",D,[t("div",E,a(r.title),1),t("div",M,"¥"+a(r.price.toFixed(2)),1)]),t("div",R,"x"+a(r.quantity),1)])]))),128)),t("div",j," 实付款：¥ "+a(m(i.items)),1)]))),128))])):(o(),s("div",z,[_(g,{description:"暂无订单"}),t("div",A,[_(k,{round:"",block:"",type:"primary",onClick:f},{default:C(()=>n[0]||(n[0]=[O(" 去购物 ")])),_:1,__:[0]})])]))])}}},K=x(G,[["__scopeId","data-v-0698393c"]]);export{K as default};
